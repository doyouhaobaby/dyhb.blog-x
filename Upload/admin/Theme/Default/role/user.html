<include file="public+header">

{script}
<!--
function saveAccess(){
 Dyhb.AjaxSubmit('form1','{:G::U('role/set_user')}');
}
//-->
{/script}

<script src="__PUBLIC__/Images/Admin/ManySelect.js" type="text/javascript"></script>

{style}
<!--
.dyhbManySelect {
	overflow: auto;
	border: 2px inset white;
}
.dyhbManySelect_option {
	border-bottom: 1px solid #eeeeee;
	font: 10pt Tahoma;
	padding: 1px;
	padding-left: 20px;
}
// -->
{/style}

	
	<div class="title"><lang package='role'>用户授权</lang> ( <a href="{:G::U('role/index')}"><lang package='role'>返回角色列表</lang></a> | <a href="{:G::U('role/app?group_id='.$nId )}"><lang package='role'>应用授权</lang></a> | <a href="{:G::U('role/module?group_id='.$nId )}"><lang package='role'>模块授权</lang></a> | <a href="{:G::U('role/action?group_id='.$nId)}"><lang package='role'>方法授权</lang></a> )</div>

	
	<div id="content" class="content">
		<form method="post" id="form1" name='form1'>
		<table class="form-table full">
		<tr>
			<th valign="top"><label for="access"><lang package='role'>授权</lang>：</label></th>
			<td class="importent"><span><lang package='role'>用户授权</lang></span>
			</td>
			</tr>
		<tr>
			<th valign="top"><label for="group_id"><lang package='role'>当前组</lang>：</label></th>
			<td><select id="" name="group_id" onchange="location.href = Dyhb.U( 'role/user?id='+this.options[this.selectedIndex].value );" ondblclick="" class="field" >
				<option value="" ><lang package='role'>选择组</lang></option>
				<foreach for=arrGroupList>
				<option value="{$key}" {if $nSelectGroupId==$key}selected="selected"{/if}>{$value}</option>
				</foreach>
				</select>
				<div class="description"><lang package='role'>系统组列表，下拉选择</lang></div>
			</td>
			</tr>
			<tr>
			<th valign="top"><label for="groupUserId"><lang package='role'>用户</lang>：</label></th>
			<td><select id="groupUserId" name="groupUserId[]" ondblclick="" onchange="" multiple="multiple" class="field" size="15" style="width: 200px; height: 200px">
				<foreach for=arrUserList>
				<option {if in_array($key,$arrGroupUserList)}selected="selected"{/if} value="{$key}">{$value}</option>
				</foreach>
				</select>
				<div class="description"><lang package='role'>选中组的用户列表</lang></div>
			</td>
			</tr>
			<tr>
			<th valign="top"><label for="field"><lang>操作</lang>：</label></th>
			<td><input type="button" onclick="selectAll()" value="<lang>全 选</lang>" class="button">&nbsp;
			<input type="button" onclick="inverSelect()" value="<lang>反 选</lang>" class="button">&nbsp;
			<input type="button" onclick="unSelectAll()" value="<lang>全 否</lang>" class="button">&nbsp;
			<input type="button" onclick="saveAccess()" value="<lang>保 存</lang>" class="button button-blue">&nbsp;
			<input type="hidden" name="group_id" VALUE="{$nId}" >
			<input type="hidden" name="access_module" value="node">
			<input type="hidden" name="ajax" VALUE="1">
			</td>
			</tr>

			</table>
		</form>
	</div>
	

<include file="public+footer">